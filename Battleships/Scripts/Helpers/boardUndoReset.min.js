function initUndoLastShip(){$("#undoLastShip:visible").length||$(undoLastShipButton).fadeIn(500).unbind("click").one("click",function(){undoLastShip()})}function undoLastShip(){for(var t=playerBoardClass.undoPlaceShip(),a=(t.ship,t.coordinates),e=t.numShipsPlaced,n=0;n<a.length;n++){var o=a[n],i=$(page+" "+playerBoard+" tr:eq("+o.getY()+") > td:eq("+o.getX()+")");i.removeAttr("data-ship"),i.removeClass("containsShip"),i.removeAttr("data-orientation"),i.removeAttr("data-ship-part")}e>0?$(undoLastShipButton).unbind("click").one("click",function(){undoLastShip()}):($(undoLastShipButton).fadeOut(500),$(resetBoardButton).fadeOut(500)),e<shipsToPlace.length&&$(startGameButton).fadeOut(500),initPlaceShips()}function initResetBoard(){$("#resetBoard:visible").length||$(resetBoardButton).fadeIn(500).unbind("click").one("click",function(){resetBoard()})}function resetBoard(){$(resetBoardButton).fadeOut(500),$(undoLastShipButton).fadeOut(500),$(startGameButton).fadeOut(500),$(page+" "+playerBoard+" td").removeClass("containsShip"),$(page+" "+playerBoard+" td").removeAttr("data-ship"),$(page+" "+playerBoard+" td").removeAttr("data-orientation"),$(page+" "+playerBoard+" td").removeAttr("data-ship-part"),playerBoardClass.resetBoard(),initPlaceShips()}